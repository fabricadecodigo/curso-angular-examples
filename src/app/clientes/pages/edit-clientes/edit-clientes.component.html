<h1 style="text-align: center">Cadastro de cliente</h1>

<form [formGroup]="customer" (ngSubmit)="onSubmit()" novalidate>
  <fieldset>
    <legend>Informações gerais</legend>

    <div class="form-item">
      <label for="name">Nome</label>
      <input type="text" name="name" id="name" formControlName="name" />
      <!-- <div class="validation-errors">
        <p>Campo obrigatório</p>
        <p>Email invalido</p>
      </div> -->
    </div>

    <div class="form-item">
      <label for="email">Email</label>
      <input type="email" name="email" id="email" formControlName="email" />
    </div>

    <div class="form-item">
      <label for="cpf">CPF</label>
      <input type="text" name="cpf" id="cpf" formControlName="cpf" />
    </div>

    <div class="form-item">
      <label for="birthDate">Data de nascimento</label>
      <input type="date" name="birthDate" id="birthDate" formControlName="birthDate" />
    </div>

    <div class="form-item-group">
      <p class="title">Gênero</p>

      <div class="items">
        <div class="form-item-radio">
          <input type="radio" name="genre" id="men" value="homem" formControlName="genre" />
          <label for="men">Masculino</label>
        </div>

        <div class="form-item-radio">
          <input type="radio" name="genre" id="woman" value="mulher" formControlName="genre" />
          <label for="woman">Feminino</label>
        </div>
      </div>
    </div>

    <div class="form-item-checkbox">
      <input type="checkbox" name="active" id="active" formControlName="active" />
      <label for="active">Ativo</label>
    </div>
  </fieldset>

  <fieldset formGroupName="address">
    <legend>Endereço</legend>

    <div class="form-item">
      <label for="addressType">Tipo de enderço</label>
      <select name="addressType" id="addressType" formControlName="type">
        <option value=""></option>
        <option value="R">Residencial</option>
        <option value="C">Comercial</option>
      </select>
    </div>

    <div class="form-item">
      <label for="cep">CEP</label>
      <input type="text" name="cep" id="cep" formControlName="cep" />
    </div>

    <div class="form-item">
      <label for="street">Logradouro</label>
      <input type="text" name="street" id="street" formControlName="street" />
    </div>

    <div class="form-item">
      <label for="number">Número</label>
      <input type="text" name="number" id="number" formControlName="number" />
    </div>

    <div class="form-item">
      <label for="complement">Complemento</label>
      <input type="text" name="complement" id="complement" formControlName="complement" />
    </div>

    <div class="form-item">
      <label for="neighborhood">Bairro</label>
      <input type="text" name="neighborhood" id="neighborhood" formControlName="neighborhood" />
    </div>
  </fieldset>

  <fieldset formArrayName="phones">
    <legend>Telefones</legend>

    <div class="form-action-item" *ngFor="let phoneControl of phones.controls; index as i" [formGroupName]="i">

      <div class="form-item">
        <label [for]="getPhoneIdAndName(i)">Telefone</label>
        <input type="tel" [name]="getPhoneIdAndName(i)" [id]="getPhoneIdAndName(i)" formControlName="phone" />
      </div>

      <button type="button" class="btn-outline-secondary" (click)="btnRemovePhoneClick(i)">Remover</button>
    </div>

    <button type="button" class="btn-outline-secondary" (click)="btnAddPhoneClick()">Adicionar</button>
  </fieldset>

  <button type="submit" class="btn-primary">Salvar</button>
</form>
